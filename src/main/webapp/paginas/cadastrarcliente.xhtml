<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
        
	<ui:composition template="/WEB-INF/templates/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	
	<ui:define name="conteudo">
	
	   <h:form acceptcharset="UTF-8"> 
	    
        <p:growl id="growl" showDetail="true" />
        <p:growl id="growl-sticky" for="sticky-key" showDetail="true" sticky="true" />
							
				<fieldset>
					<legend>Cadastro de Cliente</legend>
					<p:inputText type="hidden" value="#{clienteBean.cliente.idCliente}" />
						<p:panelGrid columns="2" styleClass="semBorda">
					
							<p:outputLabel value="Nome: " for="nome"/>
								<h:panelGroup>
									<p:inputText id="nome" size="30" value="#{clienteBean.cliente.nome}" required="true"
										requiredMessage="É necessario informar o nome do cliente."/>
									<p:message for="nome" errorStyle="color:red"/>
								</h:panelGroup>
							
							<p:outputLabel value="Sobrenome: " for="sobrenome"/>
								<h:panelGroup>
									<p:inputText id="sobrenome" size="30" value="#{clienteBean.cliente.sobrenome}" required="true"
										requiredMessage="É necessario informar o sobrenome do cliente."/>
									<p:message for="sobrenome" errorStyle="color:red"/>
								</h:panelGroup>	
														
							<p:outputLabel value="Email: " for="email"/>
								<h:panelGroup>
									<p:inputText id="email" size="30" value="#{clienteBean.cliente.email}" required="false" 
										requiredMessage="É necessário informar o email."/>
									<p:message for="email" errorStyle="color:red" />
								</h:panelGroup>
								
							<p:outputLabel value="Data Nascimento: " for="dataNascimento"/>
								<h:panelGroup>
									<p:inputText id="dataNascimento" size="30" value="#{clienteBean.cliente.dataNascimento}" required="true" 
										requiredMessage="É necessário informar data de nascimento."
										 converterMessage="Data no formato inválido. Utilize dd/mm/aaaa" > 										 	
										 	<f:convertDateTime pattern="dd/MM/yyyy" type="date" 
										 		dateStyle="medium" locale="pt_BR" timeZone="GMT-3"/>
									</p:inputText>
										 <p:message for="dataNascimento" errorStyle="color:red" />
								</h:panelGroup>	
									
							<p:outputLabel value="Sexo: " for="sexo">
								<p:selectOneMenu id="sexo" value="#{clienteBean.cliente.sexo}" >
									<f:selectItem itemLabel="Selecione"/>
									<f:selectItem itemValue="M" itemLabel="Masculino"/>
									<f:selectItem itemValue="F" itemLabel="Feminino"/>
								</p:selectOneMenu>
							</p:outputLabel>
							<p:outputLabel />								
										
						</p:panelGrid>
						
						
						<hr/>
						<p:outputLabel value="Endereço" />
							<p:panelGrid columns="4" styleClass="semBorda">
								
								<p:outputLabel value="Cep " for="cep"/>
									<p:inputText id="cep" size="25" value="#{clienteBean.cliente.endereco.cep}">						
										<f:ajax event="blur" execute="@this" listener="#{clienteBean.pesquisaCep}"
										 render="logradouro complemento municipio bairro estado"/>										
									</p:inputText>
									
								<p:outputLabel value="Logradouro: " for="logradouro"/>
									<p:inputText id="logradouro" size="25" value="#{clienteBean.cliente.endereco.logradouro}"/>
								
								<p:outputLabel value="Complemento: " for="complemento"/>
									<p:inputText id="complemento" size="25" value="#{clienteBean.cliente.endereco.complemento}"/>	
								
								<p:outputLabel value="Município: " for="municipio"/>
									<p:inputText id="municipio" size="25" value="#{clienteBean.cliente.endereco.municipio}"/>	
									
								<p:outputLabel value="Bairro: " for="bairro"/>
									<p:inputText id="bairro" size="25" value="#{clienteBean.cliente.endereco.bairro}"/>	
									
								<p:outputLabel value="Estado: " for="estado"/>
									<p:inputText id="estado" size="25" value="#{clienteBean.cliente.endereco.uf}"/>	
									
							</p:panelGrid>
						
						<h:panelGroup>	
						
							<p:commandButton value="Salvar" actionListener="#{clienteBean.salvar}" 
								update="growl, @form" styleClass="mr-2"  />
								&nbsp;
							<p:commandButton value="Limpar" action="#{clienteBean.limpar}" immediate="true"/>
							
						</h:panelGroup>
				</fieldset>
			
		</h:form>
	
	</ui:define>
								
</ui:composition>
